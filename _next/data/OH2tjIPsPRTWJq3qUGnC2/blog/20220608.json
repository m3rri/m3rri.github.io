{"pageProps":{"post":{"id":"20220608","content":"\n## Github blog ì œì‘ì„ ìœ„í•´ Github Action ì‚¬ìš©í•´ë³´ê¸°\n### repository ìƒì„±\n- `[user id].github.io` ì´ë¦„ìœ¼ë¡œ repository ìƒì„±\n### deploy key ìƒì„± ë° ë“±ë¡\n1. `ssh-keygen -t rsa -f ./[key file name] -C https://github.com/[user id]/[repository name]`\n2. file_name.pub íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬\n    - Settings > Deploy keys > [Add deploy key] > Key ì— ë¶™ì—¬ë„£ê¸°\n    - Titleì€ `Public key of ACTIONS_DEPLOY_KEY` ë¡œ ì‘ì„±\n3. Settings > Environments > New environment > `github-pages` ìƒì„± í›„ í•´ë‹¹ í™˜ê²½ í´ë¦­\n    - ì´í›„ Environment secretsì—ì„œ `[+] Add Secret` í´ë¦­\n4. file_name íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬\n    - 3ì˜ Value ì— ë¶™ì—¬ë„£ê¸°\n    - 3ì˜ Nameì€ `ACTIONS_DEPLOY_KEY` ë¡œ ì‘ì„±\n### github action ì‹¤í–‰íŒŒì¼ ì‘ì„±\n- deploy.yml íŒŒì¼ ì‘ì„±í•˜ì—¬ .github/workflows í•˜ìœ„ì— ì €ì¥\n```yml\nname: GitHub Pages\n\non:\n  push:\n    branches:\n      - main\n  workflow_dispatch:\n\njobs:\n  deploy:\n    runs-on: ubuntu-20.04\n    concurrency:\n      group: ${{ github.workflow }}-${{ github.ref }}\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Setup Node\n        uses: actions/setup-node@v3\n        with:\n          node-version: '14' #localì—ì„œ ì‚¬ìš©í•œ ë²„ì „ê³¼ ë™ì¼í•˜ê²Œ ì‘ì„±\n\n      - name: Get yarn cache\n        id: yarn-cache\n        run: echo \"::set-output name=dir::$(yarn cache dir)\"\n\n      - name: Cache dependencies\n        uses: actions/cache@v2\n        with:\n          path: ${{ steps.yarn-cache.outputs.dir }}\n          key: ${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}\n          restore-keys: |\n            ${{ runner.os }}-yarn-\n      - run: yarn install --frozen-lockfile\n      - run: yarn stack\n      - run: yarn build\n      - run: yarn export # outì— ìˆëŠ” íŒŒì¼ ë‚´ìš©ì´ exportë¨\n\n      - name: Deploy\n        uses: peaceiris/actions-gh-pages@v3\n        if: ${{ github.ref == 'refs/heads/main' }}\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./out\n```\n\nğŸˆ ê¸°íƒ€ ë‚´ìš©ì€ ì¶”í›„ ë‹¤ë¥¸ í¬ìŠ¤íŠ¸ì—ì„œ ì„¤ëª….  \nì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” git actionì— ëŒ€í•´ì„œë§Œ ì •ë¦¬\n\n### git push í›„ í™•ì¸\n","title":"Github Action","date":"2022-06-08","category":["tool","git"],"tag":["git-action","git"]},"prev":null,"next":null},"__N_SSG":true}