<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>
                        window.dataLayer = window.dataLayer || [];
                        function gtag(){dataLayer.push(arguments);}
                        gtag('js', new Date());
                        gtag('config', 'G-GMHYS5H2BM', {
                        page_path: window.location.pathname,
                        });
                        </script><meta name="google-site-verification" content="-IYFAYTqi7mYYCPb6BhJKCcZVcWghBEgTqFyxyXrNBc"/><meta name="naver-site-verification" content="869be3cd7f5f9946dbdd42922f42f54838b579c5"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/703309190fe4a24f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/703309190fe4a24f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-7fcf30080e790857.js" defer=""></script><script src="/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/_next/static/chunks/main-acf70204e036151b.js" defer=""></script><script src="/_next/static/chunks/pages/_app-fb25d9ed5ba70552.js" defer=""></script><script src="/_next/static/chunks/838-07ce0bc3d5f0a553.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5BpostId%5D-e6be2160b79de1f8.js" defer=""></script><script src="/_next/static/duOvbHUXu5a5ex6LfSiN2/_buildManifest.js" defer=""></script><script src="/_next/static/duOvbHUXu5a5ex6LfSiN2/_ssgManifest.js" defer=""></script><script src="/_next/static/duOvbHUXu5a5ex6LfSiN2/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><style data-emotion="css tlc243">.css-tlc243{color:#333;}</style><div class="css-tlc243"><style data-emotion="css nmrzmf">.css-nmrzmf{border-bottom:1px solid #0C8346;}.css-nmrzmf.header-get-on{z-index:10;position:fixed;top:0;width:100%;}</style><header class=" css-nmrzmf"><style data-emotion="css tuhu7l">.css-tuhu7l{padding:7px 8px;background:#fff;}.css-tuhu7l .navbar-container{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:auto;margin-right:auto;width:100%;}.css-tuhu7l .navbar-blog-name{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-style:italic;font-size:20px;color:#333;font-weight:bold;white-space:nowrap;}.css-tuhu7l .navbar-blog-name:hover{font-style:normal;}.css-tuhu7l .navbar-dropdown-button{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:12px;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:0 4px;}@media(min-width: 768px){.css-tuhu7l .navbar-dropdown-button{display:none;}}.css-tuhu7l .navbar-menu-list-wrapper{width:100%;margin-bottom:-6px;}@media(min-width: 768px){.css-tuhu7l .navbar-menu-list-wrapper{border:0;display:block;width:auto;margin-bottom:0;}}.css-tuhu7l .navbar-menu-list-wrapper .navbar-menu-list{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-size:14px;margin:16px -8px 0 -8px;}.css-tuhu7l .navbar-menu-list-wrapper .navbar-menu-list .navbar-menu:not(:first-of-type){border-top:1px solid #0C8346;}@media(min-width: 768px){.css-tuhu7l .navbar-menu-list-wrapper .navbar-menu-list{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin:0;font-size:14px;line-height:20px;}.css-tuhu7l .navbar-menu-list-wrapper .navbar-menu-list .navbar-menu:not(:first-of-type){border-top:0;border-left:1px solid #0C8346;}}</style><nav class="css-tuhu7l"><div class="navbar-container"><a class="navbar-blog-name" href="/">MERRI`s DEVELOG</a><button type="button" class="navbar-dropdown-button"><span class="sr-only">Open blog menu</span>📚</button><style data-emotion="css 1hyfx7x">.css-1hyfx7x{display:none;}</style><div class="navbar-menu-list-wrapper css-1hyfx7x"><ul class="navbar-menu-list"><style data-emotion="css nvv0w9">@media(min-width: 768px){.css-nvv0w9{padding:10px 20px 7px;margin:-10px 0 -10px -1px;}.css-nvv0w9.active-link-home{padding-bottom:12px;}}</style><li class="navbar-menu css-nvv0w9"></li><style data-emotion="css e7ia66">.css-e7ia66:hover{background:#8FD5A6;transition-duration:500ms;}.css-e7ia66:hover .navbar-menu-link,.css-e7ia66:hover .navbar-menu a{color:#333;}</style><style data-emotion="css 19x6ejr">@media(min-width: 768px){.css-19x6ejr{padding:10px 20px 7px;margin:-10px 0 -10px -1px;}.css-19x6ejr.active-link-home{padding-bottom:12px;}}.css-19x6ejr:hover{background:#8FD5A6;transition-duration:500ms;}.css-19x6ejr:hover .navbar-menu-link,.css-19x6ejr:hover .navbar-menu a{color:#333;}</style><li class="navbar-menu true css-19x6ejr"><style data-emotion="css mnwgy4">.css-mnwgy4{border-bottom:6px solid #E5C2C0;}</style><style data-emotion="css 4xdf42">.css-4xdf42{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:9px 16px 9px 12px;width:100%;border-bottom:6px solid #E5C2C0;}.css-4xdf42:hover{border:1 solid #8FD5A6;color:#333;transition-duration:500ms;}@media(min-width: 768px){.css-4xdf42{padding:16px 12px 7px;margin:-14px -20px -7px;width:auto;}}</style><button data-dropdown-for="dropdown_Blog" class="css-4xdf42">Blog<!-- --> 📔</button><style data-emotion="css ewer5w">.css-ewer5w{display:none;}</style><style data-emotion="css j3irkc">.css-j3irkc{background:#fff;border:1px solid #0C8346;margin:8px 20px;position:relative;width:auto;z-index:0;display:none;}@media(min-width: 768px){.css-j3irkc{margin:6px;position:absolute;z-index:10;}}.css-j3irkc .dropdown-menu-list{font-size:14px;padding:4px 0;}.css-j3irkc .dropdown-menu-list .dropdown-menu-list-part-name{color:#333;font-size:12px;font-weight:bold;padding-left:8px;}.css-j3irkc .dropdown-menu-list li{border:0;}.css-j3irkc .dropdown-menu-list a{display:block;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding:8px 16px;}.css-j3irkc .dropdown-menu-list a:hover{background:#8FD5A6;color:#fff;transition-duration:300ms;}.css-j3irkc .dropdown-menu-list .dropdown-menu-active-link{background:#E5C2C0;}.css-j3irkc ul:not(:first-of-type){border-top:1px solid #8FD5A6;}</style><div id="dropdown_Blog" class="css-j3irkc"><ul class="dropdown-menu-list"><span class="dropdown-menu-list-part-name">BACKEND</span><li><a class="" href="/blog/category/spring">Spring</a></li><li><a class="" href="/blog/category/java">Java</a></li></ul><ul class="dropdown-menu-list"><span class="dropdown-menu-list-part-name">SW</span><li><a class="" href="/blog/category/security">Security</a></li><li><a class="" href="/blog/category/design%20pattern">Design pattern</a></li></ul><ul class="dropdown-menu-list"><span class="dropdown-menu-list-part-name">INFRA</span><li><a class="" href="/blog/category/kubernetes">Kubernetes</a></li><li><a class="" href="/blog/category/network">Network</a></li></ul><ul class="dropdown-menu-list"><span class="dropdown-menu-list-part-name">CLOUD</span><li><a class="" href="/blog/category/aws">Aws</a></li></ul><ul class="dropdown-menu-list"><span class="dropdown-menu-list-part-name">OS</span><li><a class="" href="/blog/category/window">Window</a></li><li><a class="" href="/blog/category/linux">Linux</a></li></ul><ul class="dropdown-menu-list"><span class="dropdown-menu-list-part-name">FRONTEND</span><li><a class="" href="/blog/category/javascript">Javascript</a></li></ul><ul class="dropdown-menu-list"><span class="dropdown-menu-list-part-name">TOOL</span><li><a class="" href="/blog/category/git">Git</a></li></ul><ul class="dropdown-menu-list"><span class="dropdown-menu-list-part-name">IDEA</span><li><a class="" href="/blog/category/intellij">Intellij</a></li></ul></div></li><li class="navbar-menu true css-19x6ejr"><style data-emotion="css a3e3m7">.css-a3e3m7{cursor:pointer;display:block;padding:8px 16px 8px 12px;}@media(min-width: 768px){.css-a3e3m7{padding-bottom:7px;padding-top:7px;padding-right:12px;margin:-7px -20px;}}.css-a3e3m7.navbar-menu-active-link{border-bottom:6px solid transparent;border-image:linear-gradient(to right, #E5C2C0 25%, #fff 25%) 1 100%;border-image-slice:1;}@media(min-width: 768px){.css-a3e3m7.navbar-menu-active-link{border-image:linear-gradient(to right, #E5C2C0 100%, #fff) 1 100%;border-image-slice:1;}}</style><a class="navbar-menu-link  css-a3e3m7">Portfolio<!-- --> 📄</a></li><li class="navbar-menu true css-19x6ejr"><a class="navbar-menu-link  css-a3e3m7">About<!-- --> 📄</a></li><li class="navbar-menu css-nvv0w9"></li></ul></div></div></nav></header><style data-emotion="css 1ho3vgx">.css-1ho3vgx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-1ho3vgx .main-area{-webkit-flex:none;-ms-flex:none;flex:none;margin:16px 0;width:100%;}@media(min-width: 1024px){.css-1ho3vgx .main-area{width:1000px;margin:16px 12px;}}</style><div class="css-1ho3vgx"><style data-emotion="css 1hten03">.css-1hten03{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;height:100%;width:8px;}</style><div class="css-1hten03"></div><main class="main-area"><style data-emotion="css 2pdmeq">.css-2pdmeq{border:0;margin:-16px 0;}@media(min-width: 1024px){.css-2pdmeq{border-left:1px solid #0C8346;border-right:1px solid #0C8346;margin-left:0;margin-right:0;}}.css-2pdmeq .markdown-body{padding:12px 20px;}@media(min-width: 1024px){.css-2pdmeq .markdown-body{padding-left:16px;padding-right:16px;}}.css-2pdmeq .markdown-body>pre{padding:0;background:none!important;}.css-2pdmeq .markdown-body pre:has(pre){padding:0;background:none;}.css-2pdmeq .markdown-body img{display:block;margin:1rem auto;}.css-2pdmeq .end-of-post{color:#329F5B;padding:8px 8px0 8px;}@media(min-width: 1024px){.css-2pdmeq .end-of-post{padding-left:0;padding-right:0;}}</style><div class="css-2pdmeq"><style data-emotion="css ao9izc">.css-ao9izc{border-bottom:1px solid #0C8346;padding:8px;}.css-ao9izc h1{color:#333;padding-bottom:4px;}.css-ao9izc div{color:#aaa;font-size:14px;}</style><header class="css-ao9izc"><h1>Java Bean Mapping library 적용 - MapStruct</h1><div>2023-05-26</div></header><style data-emotion="css r0tt3h">.css-r0tt3h{padding:8px;}.css-r0tt3h div{font-size:14px;}.css-r0tt3h a:hover{color:#8FD5A6;}</style><div class="css-r0tt3h"><div>📂 <span><a href="/blog/category/backend">backend</a></span><span><span> &gt; </span><a href="/blog/category/spring">spring</a></span></div><div>🧶<span><span> </span><a href="/blog/tag/mapstruct">#<!-- -->MapStruct</a></span><span><span> </span><a href="/blog/tag/jpa">#<!-- -->jpa</a></span><span><span> </span><a href="/blog/tag/java">#<!-- -->java</a></span></div></div><main class="markdown-body"><h2>MapStruct로 dto 매핑 지옥 탈출</h2>
<h3>적용 배경</h3>
<ul>
<li>프로젝트 개발 중 변수가 40개 이상이되는 테이블을 조회해서 DTO로 변환 후 리턴해줘야하는 API를 만났다</li>
<li>getter setter 좍좍 타이핑할 생각에 정신이 아득해져서 구글링으로 Entity to Dto 를 검색했다</li>
<li>ModelMapper 라이브러리를 발견 후 적용해보려는데 나랑 너무 안맞아서 다른 라이브러리를 찾아보았고 그것이 MapStruct이다</li>
</ul>
<h3>MapStruct 시작하기</h3>
<ol>
<li>
<p>의존성 추가하기 <code>build.gradle</code></p>
<p>lombok 사용하는 경우 작성 순서가 매우 중요하다 👉 lombok 이후에 정의</p>
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-gradle" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span>dependencies {
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span>    ...
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span>    implementation &#x27;org.projectlombok:lombok&#x27;
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>    annotationProcessor &#x27;org.projectlombok:lombok&#x27;
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span>    implementation &#x27;org.mapstruct:mapstruct:1.5.3.Final&#x27;
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span>    annotationProcessor &#x27;org.mapstruct:mapstruct-processor:1.5.3.Final&#x27;
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span>    ...
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span>}</code></pre></pre>
</li>
<li>
<p>Mapper interface 작성</p>
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-java" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:#07a">import</span><span> </span><span class="token" style="-opacity:.7">org</span><span class="token" style="-opacity:.7;color:#999">.</span><span class="token" style="-opacity:.7">mapstruct</span><span class="token" style="-opacity:.7;color:#999">.</span><span class="token" style="color:#DD4A68">Mapper</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token" style="color:#07a">import</span><span> </span><span class="token" style="-opacity:.7">org</span><span class="token" style="-opacity:.7;color:#999">.</span><span class="token" style="-opacity:.7">mapstruct</span><span class="token" style="-opacity:.7;color:#999">.</span><span class="token" style="color:#DD4A68">Mapping</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token" style="color:#07a">import</span><span> </span><span class="token" style="-opacity:.7">org</span><span class="token" style="-opacity:.7;color:#999">.</span><span class="token" style="-opacity:.7">mapstruct</span><span class="token" style="-opacity:.7;color:#999">.</span><span class="token" style="-opacity:.7">factory</span><span class="token" style="-opacity:.7;color:#999">.</span><span class="token" style="color:#DD4A68">Mappers</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token annotation" style="color:#999">@Mapper</span><span> </span><span class="token" style="color:slategray">//어노테이션 적용</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token" style="color:#07a">public</span><span> </span><span class="token" style="color:#07a">interface</span><span> </span><span class="token" style="color:#DD4A68">ConditionsMapper</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>    </span><span class="token" style="color:#DD4A68">ConditionsMapper</span><span> INSTANCE </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">Mappers</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getMapper</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">ConditionsMapper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#07a">class</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>    </span><span class="token" style="color:slategray">// Mappers.getMapper()로 싱글톤 생성하여 INSTANCE를 호출해서 사용</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>    </span><span class="token" style="color:slategray">/* abstract method 정의
</span><span class="token" style="color:slategray"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span>     * @Mapping : 해당 어노테이션을 통해 변수 이름만으로 생성된 getter, setter만으로 매핑이 불가능한 경우를 정의
</span><span class="token" style="color:slategray"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span>     *  * source : method의 파라미터중에서 어떤 파라미터를 사용하여 매핑할 것인지 명시하면 됨
</span><span class="token" style="color:slategray"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span>          예시 코드에서는 method 파라미터가 1개이지만, 2개 이상의 객체를 받아서 하나의 target 객체로 매핑하는 경우도 정의할 수 있다.
</span><span class="token" style="color:slategray"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span>          단, 하나의 @Mapping source 속성에서 하나의 파라미터 객체만 다룰 수 있음 -&gt; @Mapping 여러개를 사용할 수 있음
</span><span class="token" style="color:slategray"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">15</span>     *  * target : method의 리턴 타입
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">16</span><span class="token" style="color:slategray">     */</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">17</span><span>    </span><span class="token annotation" style="color:#999">@Mapping</span><span class="token" style="color:#999">(</span><span>source </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;condition.equipmentType&quot;</span><span class="token" style="color:#999">,</span><span> target </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;equipmentType&quot;</span><span class="token" style="color:#999">,</span><span> qualifiedByName </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;equipmentTypeToString&quot;</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">18</span><span>    </span><span class="token" style="color:slategray">/* ☝ source쪽 객체에서 equipmentType이라는 변수의 타입이 EquipmentType이라는 Enum객체인데,
</span><span class="token" style="color:slategray"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">19</span>       target쪽 객체에서는 String type으로 정의되어있는 경우 -&gt; 별도 설정 없으면 Enum name이 그대로 target으로 매핑됨
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">20</span><span class="token" style="color:slategray">       이 경우 Enum에서 별도로 사용하고 싶은 fullName을 지정했다고 가정하고 그것을 매핑하는 방법을 예로 들었음 */</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">21</span><span>    </span><span class="token annotation" style="color:#999">@Mapping</span><span class="token" style="color:#999">(</span><span>source </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;condition&quot;</span><span class="token" style="color:#999">,</span><span> target </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;product&quot;</span><span class="token" style="color:#999">,</span><span> qualifiedByName </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;productToBaseProduct&quot;</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">22</span><span>    </span><span class="token" style="color:slategray">/* ☝ source 객체 자체를 target 변수에 매핑하는데 사용할 수 있음
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">23</span><span class="token" style="color:slategray">       이 경우 equipmentType별로 매핑해야하는 Product 클래스가 다른 경우를 가정하고 예를 들었음 */</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">24</span><span>    </span><span class="token annotation" style="color:#999">@Mapping</span><span class="token" style="color:#999">(</span><span>source </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;condition.param&quot;</span><span class="token" style="color:#999">,</span><span> target </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;params&quot;</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">25</span><span>    </span><span class="token" style="color:slategray">/* ☝ 단순히 변수의 이름만 다른 경우 위와 같이 간단하게 정의할 수 있음
</span><span class="token" style="color:slategray"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">26</span>       이 경우 source의 param은 List&lt;Param&gt;이고 target에 List&lt;ParamDto&gt; params로 정의되어 있는 경우를 가정하였고
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">27</span><span class="token" style="color:slategray">       MapStruct에서 알아서 객체, 콜렉션 매핑에 필요한 메소드를 2개 생성함 */</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">28</span><span>    </span><span class="token" style="color:#DD4A68">ConditionDto</span><span> </span><span class="token" style="color:#DD4A68">toConditionDto</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Condition</span><span> condition</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">29</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">30</span><span>    </span><span class="token" style="color:slategray">//변수명, 타입 등에서 특이사항이 없는 경우 아래와 같이 추상메소드 정의만 해두면 매핑 코드가 생성된다.</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">31</span><span>    </span><span class="token" style="color:#DD4A68">ProductChild1</span><span> </span><span class="token" style="color:#DD4A68">toChild1</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Product</span><span> product</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">32</span><span>    </span><span class="token" style="color:#DD4A68">ProductChild2</span><span> </span><span class="token" style="color:#DD4A68">toChild2</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Product</span><span> product</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">33</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">34</span><span>    </span><span class="token" style="color:slategray">/* static method 구현
</span><span class="token" style="color:slategray"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">35</span>     * toConditionDto 메소드의 첫번째 @Mapping 설정 중 qualifiedByName 속성에서 호출하게 될 메소드를 구현한 영역이다.
</span><span class="token" style="color:slategray"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">36</span>     * MapStruct가 매핑 클래스를 구현해줄 때 @Named 어노테이션에 작성한 이름으로 코드를 작성하기 때문에 qualifiedByName이랑 맞춰줘야함
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">37</span><span class="token" style="color:slategray">     */</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">38</span><span>    </span><span class="token annotation" style="color:#999">@Named</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;equipmentTypeToString&quot;</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">39</span><span>    </span><span class="token" style="color:#07a">static</span><span> </span><span class="token" style="color:#DD4A68">String</span><span> </span><span class="token" style="color:#DD4A68">equipmentTypeToString</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">EquipmentType</span><span> equipmentType</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">40</span><span>        </span><span class="token" style="color:#07a">return</span><span> equipmentType</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getFullName</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">41</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">42</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">43</span><span>    </span><span class="token annotation" style="color:#999">@Named</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;productToBaseProduct&quot;</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">44</span><span>    </span><span class="token" style="color:#07a">static</span><span> </span><span class="token" style="color:#DD4A68">BaseProduct</span><span> </span><span class="token" style="color:#DD4A68">productToBaseProduct</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Condition</span><span> condition</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">45</span><span>        </span><span class="token" style="color:#DD4A68">BaseProduct</span><span> returnProduct </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">null</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">46</span><span>        </span><span class="token" style="color:#DD4A68">Product</span><span> product </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> condition</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getProduct</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">47</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">48</span><span>        </span><span class="token" style="color:#07a">switch</span><span> </span><span class="token" style="color:#999">(</span><span>condition</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getEquipmentType</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">49</span><span>        </span><span class="token" style="color:#07a">case</span><span> EQUIP1</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">50</span><span>            returnProduct </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> INSTANCE</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toChild1</span><span class="token" style="color:#999">(</span><span>product</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">51</span><span>            </span><span class="token" style="color:#07a">break</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">52</span><span>        </span><span class="token" style="color:#07a">case</span><span> EQUIP2</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">53</span><span>            returnProduct </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> INSTANCE</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toChild2</span><span class="token" style="color:#999">(</span><span>product</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">54</span><span>            </span><span class="token" style="color:#07a">break</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">55</span><span>        </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">56</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">57</span><span>        </span><span class="token" style="color:#07a">return</span><span> returnProduct</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">58</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">59</span><span></span><span class="token" style="color:#999">}</span></code></pre></pre>
</li>
<li>
<p>컴파일 후 자동 생성된 클래스 구경</p>
<p>너무 길어서..👉 <a href="https://gist.github.com/m3rri/1c689ede6e8fdd112db1269966c96d87">gist link</a></p>
</li>
<li>
<p>2에서 생성한 INSTANCE를 통해 메소드 호출</p>
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-java" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:#07a">public</span><span> </span><span class="token" style="color:#DD4A68">ConditionDto</span><span> </span><span class="token" style="color:#DD4A68">getCondition</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Long</span><span> id</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span>    </span><span class="token" style="color:#999">.</span><span class="token" style="color:#999">.</span><span class="token" style="color:#999">.</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>    </span><span class="token" style="color:#DD4A68">Condition</span><span> condition </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> conditionRepository</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">findById</span><span class="token" style="color:#999">(</span><span>id</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>    </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#DD4A68">ConditionMapper</span><span class="token" style="color:#999">.</span><span>INSTANCE</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toConditionDto</span><span class="token" style="color:#999">(</span><span>condition</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token" style="color:#999">}</span></code></pre></pre>
</li>
</ol>
<h3>MapStruct와 ModelMapper의 차이점 (=MapStruct가 더 좋은 이유)</h3>
<ul>
<li>
<p>ModelMapper</p>
<ul>
<li>Collection, Enum 타입의 변수를 변환할 때 작성하는 코드가 너무 장황함</li>
<li>런타임에서 예외를 반환함</li>
<li>문제가 있을 때 디버깅이 불가능함</li>
</ul>
</li>
<li>
<p>MapStruct</p>
<ul>
<li>Collection, Enum 타입 변환 코드가 간단함</li>
<li>컴파일할 때 예외를 반환함</li>
<li>디버깅이 쉬움 : <em>인터페이스로 매핑할 내용을 정의하면 컴파일 시 getter, setter를 사용한 클래스를 자동생성해주기 때문에</em></li>
</ul>
</li>
<li>
<p>Collection type 변환 코드 비교</p>
<ul>
<li>조회 결과가 findAll인 경우<!-- -->
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-java" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// ModelMapper</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token" style="color:#DD4A68">List</span><span class="token generics" style="color:#999">&lt;</span><span class="token generics" style="color:#DD4A68">User</span><span class="token generics" style="color:#999">&gt;</span><span> users </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> userRepository</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getUsers</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token" style="color:#DD4A68">List</span><span class="token generics" style="color:#999">&lt;</span><span class="token generics" style="color:#DD4A68">UserDto</span><span class="token generics" style="color:#999">&gt;</span><span> userList </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> users</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">stream</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>        </span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span>user </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span> modelMapper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span>user</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#DD4A68">UserDto</span><span class="token" style="color:#999">.</span><span class="token" style="color:#07a">class</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>        </span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">collect</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Collectors</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toList</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></code></pre></pre>
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-java" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// MapStruct</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token" style="color:#DD4A68">UserDto</span><span> </span><span class="token" style="color:#DD4A68">toUserDto</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">User</span><span> user</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token" style="color:#DD4A68">List</span><span class="token generics" style="color:#999">&lt;</span><span class="token generics" style="color:#DD4A68">UserDto</span><span class="token generics" style="color:#999">&gt;</span><span> </span><span class="token" style="color:#DD4A68">toUserDtoList</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">List</span><span class="token generics" style="color:#999">&lt;</span><span class="token generics" style="color:#DD4A68">User</span><span class="token generics" style="color:#999">&gt;</span><span> users</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></code></pre></pre>
</li>
<li>조회 결과가 findOne인 경우<!-- -->
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-java" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// ModelMapper</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token" style="color:#DD4A68">User</span><span> user </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> orderRepository</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getOrdersGroupByUser</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span></span><span class="token" style="color:#DD4A68">List</span><span class="token generics" style="color:#999">&lt;</span><span class="token generics" style="color:#DD4A68">OrderDto</span><span class="token generics" style="color:#999">&gt;</span><span> orders </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> user</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getOrders</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>        </span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span>order </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span> modelMapper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span>order</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#DD4A68">OrderDto</span><span class="token" style="color:#999">.</span><span class="token" style="color:#07a">class</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>        </span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">collect</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Collectors</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">toList</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span></span><span class="token" style="color:#DD4A68">UserDto</span><span> userDto </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> modelMapper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span>user</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#DD4A68">UserDto</span><span class="token" style="color:#999">.</span><span class="token" style="color:#07a">class</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>userDto</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">setOrders</span><span class="token" style="color:#999">(</span><span>orders</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span></code></pre></pre>
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-java" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token" style="color:slategray">// MapStruct : findAll에서 작성한 toUserDto로 처리 가능</span></code></pre></pre>
</li>
</ul>
</li>
<li>
<p>Enum type 변환 코드 비교</p>
<ul>
<li>
<p>Enum</p>
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-java" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token annotation" style="color:#999">@Getter</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token" style="color:#07a">public</span><span> </span><span class="token" style="color:#07a">enum</span><span> </span><span class="token" style="color:#DD4A68">Currency</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>    </span><span class="token" style="color:#DD4A68">WON</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;￦&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span>    </span><span class="token" style="color:#DD4A68">DOLLAR</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;$&quot;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>    </span><span class="token" style="color:#07a">private</span><span> </span><span class="token" style="color:#DD4A68">String</span><span> symbol</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>    </span><span class="token" style="color:#DD4A68">Currency</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">String</span><span> symbol</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>        </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span>symbol </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> symbol</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span></span><span class="token" style="color:#999">}</span></code></pre></pre>
</li>
<li>
<p>ModelMapper</p>
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-java" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token annotation" style="color:#999">@Bean</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token" style="color:#07a">public</span><span> </span><span class="token" style="color:#DD4A68">ModelMapper</span><span> </span><span class="token" style="color:#DD4A68">modelMapper</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span><span>    </span><span class="token" style="color:#DD4A68">ModelMapper</span><span> modelMapper </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#DD4A68">ModelMapper</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span>    </span><span class="token" style="color:#DD4A68">Converter</span><span class="token generics" style="color:#999">&lt;</span><span class="token generics" style="color:#DD4A68">Currency</span><span class="token generics" style="color:#999">,</span><span class="token generics"> </span><span class="token generics" style="color:#DD4A68">String</span><span class="token generics" style="color:#999">&gt;</span><span> currencyConverter </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> ctx </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-&gt;</span><span> ctx</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getSource</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getSymbol</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>    </span><span class="token" style="color:#DD4A68">PropertiMap</span><span class="token generics" style="color:#999">&lt;</span><span class="token generics" style="color:#DD4A68">Item</span><span class="token generics" style="color:#999">,</span><span class="token generics"> </span><span class="token generics" style="color:#DD4A68">ItemDto</span><span class="token generics" style="color:#999">&gt;</span><span> itemMap </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#DD4A68">PropertyMap</span><span class="token generics" style="color:#999">&lt;</span><span class="token generics" style="color:#999">&gt;</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span>        </span><span class="token" style="color:#07a">protected</span><span> </span><span class="token" style="color:#07a">void</span><span> </span><span class="token" style="color:#DD4A68">configure</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">8</span><span>            </span><span class="token" style="color:#DD4A68">using</span><span class="token" style="color:#999">(</span><span>currencyConverter</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">map</span><span class="token" style="color:#999">(</span><span>source</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getCurrency</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">setCurrency</span><span class="token" style="color:#999">(</span><span class="token" style="color:#07a">null</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">9</span><span>        </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">10</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">11</span><span>    modelMapper</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">addMappings</span><span class="token" style="color:#999">(</span><span>itemMap</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">12</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">13</span><span>    </span><span class="token" style="color:#07a">return</span><span> modelMapper</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">14</span><span></span><span class="token" style="color:#999">}</span></code></pre></pre>
</li>
<li>
<p>MapStruct</p>
<pre><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-java" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">1</span><span class="token annotation" style="color:#999">@Mapping</span><span class="token" style="color:#999">(</span><span>source </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;item.currency&quot;</span><span class="token" style="color:#999">,</span><span> target</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span class="token" style="color:#690">&quot;currency&quot;</span><span class="token" style="color:#999">,</span><span> qualifiedByName </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&quot;currencyToSymbol&quot;</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">2</span><span></span><span class="token" style="color:#DD4A68">ItemDto</span><span> </span><span class="token" style="color:#DD4A68">toItemDto</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Item</span><span> item</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">3</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">4</span><span></span><span class="token annotation" style="color:#999">@Named</span><span class="token" style="color:#999">(</span><span class="token" style="color:#690">&quot;currencyToSymbol&quot;</span><span class="token" style="color:#999">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">5</span><span></span><span class="token" style="color:#07a">static</span><span> </span><span class="token" style="color:#DD4A68">String</span><span> </span><span class="token" style="color:#DD4A68">currencyToSymbol</span><span class="token" style="color:#999">(</span><span class="token" style="color:#DD4A68">Currency</span><span> currency</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">6</span><span>    </span><span class="token" style="color:#07a">return</span><span> currency</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">getSymbol</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:slategray">7</span><span></span><span class="token" style="color:#999">}</span></code></pre></pre>
</li>
</ul>
</li>
<li>
<p>성능 차이 : MapStruct &gt; ModelMapper<br/>
<!-- -->출처 : <a href="https://recordsoflife.tistory.com/1251">Java 매핑 프레임워크의 성능</a></p>
</li>
</ul>
<h3>결론</h3>
<p>난 이제 MapStruct 없이 JPA를 사용할 수 없는 몸이 되었다.
우리나라에서는 ModelMapper의 점유율이 더 높다고 하는데 MapStruct 많이 쓰면 좋겠다.</p>
<h3>참조</h3>
<p>NHN Cloud Meetup <a href="https://meetup.nhncloud.com/posts/213">Object Mapping 어디까지 해봤니?</a></p></main><div class="end-of-post">/end of <!-- -->Java Bean Mapping library 적용 - MapStruct</div><style data-emotion="css 1v142rx">.css-1v142rx{border-top:1px solid #0C8346;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:8px;}@media(min-width: 768px){.css-1v142rx{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}.css-1v142rx div:first-of-type{-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;}.css-1v142rx div:last-of-type{text-align:right;}</style><footer class="css-1v142rx"><div><style data-emotion="css 173eilp">.css-173eilp{cursor:pointer;padding-left:4px;}.css-173eilp:hover{color:#aaa;}</style><a class="css-173eilp"><style data-emotion="css d5okxo">.css-d5okxo{font-size:0.85rem;}</style><span class="css-d5okxo">(이전글)</span>wsl.exe 실행되지 않음</a></div><div><a class="css-173eilp">Bastion Host 사용하여 RDS 접속하기<span class="css-d5okxo">(다음글)</span></a></div></footer><div style="border-top:1px solid #0C8346;padding:8px"><div style="display:flex;justify-content:space-between"><span style="font-weight:bold">CONTENT LIST</span><span style="color:#8FD5A6;font-weight:bold">MERRI＇s DEVELOG</span></div><div><style data-emotion="css 1ax1d4x">.css-1ax1d4x{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding:12px 8px;}.css-1ax1d4x:not(:first-of-type){margin:6px 0 0;border-top:1px solid #efefef;}</style><div class="css-1ax1d4x"><style data-emotion="css 17jq971">.css-17jq971{algin-self:center;-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;}.css-17jq971 a div{color:#333;font-weight:500;}.css-17jq971 a div:hover{color:#aaa;}</style><div class="css-17jq971"><a href="/blog/20241023"><div>로컬에서 minikube로 k8s 맛보기</div></a><style data-emotion="css 8fkig0">.css-8fkig0 a,.css-8fkig0 span{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;color:#8FD5A6;font-size:12px;padding-top:3px;}.css-8fkig0 a{cursor:pointer;}.css-8fkig0 span{cursor:default;}.css-8fkig0 a:hover{color:#E5C2C0;}</style><div class="css-8fkig0"><a href="/blog/category/kubernetes">kubernetes</a><span> |</span><span><span> </span><a href="/blog/tag/devops">#<!-- -->devops</a></span><span><span> </span><a href="/blog/tag/k8s">#<!-- -->k8s</a></span><span><span> </span><a href="/blog/tag/ingress">#<!-- -->ingress</a></span></div></div><style data-emotion="css 1uiyfyi">.css-1uiyfyi{color:#aaa;-webkit-flex:none;-ms-flex:none;flex:none;font-size:12px;padding-top:3px;}</style><span class="css-1uiyfyi">2024-10-23</span></div><div class="css-1ax1d4x"><div class="css-17jq971"><a href="/blog/20240620"><div>기초 네트워크[유투브 조코딩 - 꼭 알아야 하는 네트워크 지식...(feat.강민철)</div></a><div class="css-8fkig0"><a href="/blog/category/network">network</a><span> |</span><span><span> </span><a href="/blog/tag/network">#<!-- -->network</a></span><span><span> </span><a href="/blog/tag/http">#<!-- -->http</a></span></div></div><span class="css-1uiyfyi">2024-06-20</span></div><div class="css-1ax1d4x"><div class="css-17jq971"><a href="/blog/20230925"><div>Bastion Host 사용하여 RDS 접속하기</div></a><div class="css-8fkig0"><a href="/blog/category/aws">aws</a><span> |</span><span><span> </span><a href="/blog/tag/bastionhost">#<!-- -->BastionHost</a></span><span><span> </span><a href="/blog/tag/rds">#<!-- -->RDS</a></span></div></div><span class="css-1uiyfyi">2023-09-25</span></div><div class="css-1ax1d4x"><div class="css-17jq971"><a href="/blog/20230221"><div>wsl.exe 실행되지 않음</div></a><div class="css-8fkig0"><a href="/blog/category/window">window</a><span> |</span><span><span> </span><a href="/blog/tag/wsl">#<!-- -->wsl</a></span><span><span> </span><a href="/blog/tag/ubuntu">#<!-- -->ubuntu</a></span></div></div><span class="css-1uiyfyi">2023-02-21</span></div><div class="css-1ax1d4x"><div class="css-17jq971"><a href="/blog/20230216"><div>Facade Pattern (파사드 패턴)</div></a><div class="css-8fkig0"><a href="/blog/category/design%20pattern">design pattern</a><span> |</span><span><span> </span><a href="/blog/tag/oop">#<!-- -->oop</a></span><span><span> </span><a href="/blog/tag/design%20pattern">#<!-- -->design pattern</a></span></div></div><span class="css-1uiyfyi">2023-02-16</span></div></div></div></div></main><div class="css-1hten03"></div></div><style data-emotion="css 9m6uqx">.css-9m6uqx{background:#fff;border-top:1px solid #0C8346;color:#333;font-size:13px;letter-spacing:-0.01em;padding:11px;}.css-9m6uqx div:not(:first-of-type){padding:4px 0 0;}.css-9m6uqx svg{display:inline;vertical-align:middle;}.css-9m6uqx a:hover{color:#E5C2C0;}.css-9m6uqx.fixed-bottom{bottom:0;position:fixed;width:100%;}</style><footer class=" css-9m6uqx"><div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg> m3rri17@gmail.com</div><div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><a target="_blank" href="https://github.com/m3rri"> https://github.com/m3rri</a></div><div>© 2022-<!-- -->2025<!-- --> KimHyeRi. All rights reserved.</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"20230526","content":"\n## MapStruct로 dto 매핑 지옥 탈출\n\n### 적용 배경\n\n-   프로젝트 개발 중 변수가 40개 이상이되는 테이블을 조회해서 DTO로 변환 후 리턴해줘야하는 API를 만났다\n-   getter setter 좍좍 타이핑할 생각에 정신이 아득해져서 구글링으로 Entity to Dto 를 검색했다\n-   ModelMapper 라이브러리를 발견 후 적용해보려는데 나랑 너무 안맞아서 다른 라이브러리를 찾아보았고 그것이 MapStruct이다\n\n### MapStruct 시작하기\n\n1. 의존성 추가하기 `build.gradle`\n\n    lombok 사용하는 경우 작성 순서가 매우 중요하다 👉 lombok 이후에 정의\n\n    ```gradle\n    dependencies {\n        ...\n        implementation 'org.projectlombok:lombok'\n        annotationProcessor 'org.projectlombok:lombok'\n        implementation 'org.mapstruct:mapstruct:1.5.3.Final'\n        annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.3.Final'\n        ...\n    }\n    ```\n\n2. Mapper interface 작성\n\n    ```java\n    import org.mapstruct.Mapper;\n    import org.mapstruct.Mapping;\n    import org.mapstruct.factory.Mappers;\n\n    @Mapper //어노테이션 적용\n    public interface ConditionsMapper {\n        ConditionsMapper INSTANCE = Mappers.getMapper(ConditionsMapper.class);\n        // Mappers.getMapper()로 싱글톤 생성하여 INSTANCE를 호출해서 사용\n\n        /* abstract method 정의\n         * @Mapping : 해당 어노테이션을 통해 변수 이름만으로 생성된 getter, setter만으로 매핑이 불가능한 경우를 정의\n         *  * source : method의 파라미터중에서 어떤 파라미터를 사용하여 매핑할 것인지 명시하면 됨\n              예시 코드에서는 method 파라미터가 1개이지만, 2개 이상의 객체를 받아서 하나의 target 객체로 매핑하는 경우도 정의할 수 있다.\n              단, 하나의 @Mapping source 속성에서 하나의 파라미터 객체만 다룰 수 있음 -\u003e @Mapping 여러개를 사용할 수 있음\n         *  * target : method의 리턴 타입\n         */\n        @Mapping(source = \"condition.equipmentType\", target = \"equipmentType\", qualifiedByName = \"equipmentTypeToString\")\n        /* ☝ source쪽 객체에서 equipmentType이라는 변수의 타입이 EquipmentType이라는 Enum객체인데,\n           target쪽 객체에서는 String type으로 정의되어있는 경우 -\u003e 별도 설정 없으면 Enum name이 그대로 target으로 매핑됨\n           이 경우 Enum에서 별도로 사용하고 싶은 fullName을 지정했다고 가정하고 그것을 매핑하는 방법을 예로 들었음 */\n        @Mapping(source = \"condition\", target = \"product\", qualifiedByName = \"productToBaseProduct\")\n        /* ☝ source 객체 자체를 target 변수에 매핑하는데 사용할 수 있음\n           이 경우 equipmentType별로 매핑해야하는 Product 클래스가 다른 경우를 가정하고 예를 들었음 */\n        @Mapping(source = \"condition.param\", target = \"params\")\n        /* ☝ 단순히 변수의 이름만 다른 경우 위와 같이 간단하게 정의할 수 있음\n           이 경우 source의 param은 List\u003cParam\u003e이고 target에 List\u003cParamDto\u003e params로 정의되어 있는 경우를 가정하였고\n           MapStruct에서 알아서 객체, 콜렉션 매핑에 필요한 메소드를 2개 생성함 */\n        ConditionDto toConditionDto(Condition condition);\n\n        //변수명, 타입 등에서 특이사항이 없는 경우 아래와 같이 추상메소드 정의만 해두면 매핑 코드가 생성된다.\n        ProductChild1 toChild1(Product product);\n        ProductChild2 toChild2(Product product);\n\n        /* static method 구현\n         * toConditionDto 메소드의 첫번째 @Mapping 설정 중 qualifiedByName 속성에서 호출하게 될 메소드를 구현한 영역이다.\n         * MapStruct가 매핑 클래스를 구현해줄 때 @Named 어노테이션에 작성한 이름으로 코드를 작성하기 때문에 qualifiedByName이랑 맞춰줘야함\n         */\n        @Named(\"equipmentTypeToString\")\n        static String equipmentTypeToString(EquipmentType equipmentType){\n            return equipmentType.getFullName();\n        }\n\n        @Named(\"productToBaseProduct\")\n        static BaseProduct productToBaseProduct(Condition condition){\n            BaseProduct returnProduct = null;\n            Product product = condition.getProduct();\n\n            switch (condition.getEquipmentType()){\n            case EQUIP1:\n                returnProduct = INSTANCE.toChild1(product);\n                break;\n            case EQUIP2:\n                returnProduct = INSTANCE.toChild2(product);\n                break;\n            }\n\n            return returnProduct;\n        }\n    }\n    ```\n\n3. 컴파일 후 자동 생성된 클래스 구경\n\n    너무 길어서..👉 [gist link](https://gist.github.com/m3rri/1c689ede6e8fdd112db1269966c96d87)\n\n4. 2에서 생성한 INSTANCE를 통해 메소드 호출\n\n    ```java\n    public ConditionDto getCondition(Long id){\n        ...\n        Condition condition = conditionRepository.findById(id);\n\n        return ConditionMapper.INSTANCE.toConditionDto(condition);\n    }\n    ```\n\n### MapStruct와 ModelMapper의 차이점 (=MapStruct가 더 좋은 이유)\n\n-   ModelMapper\n    -   Collection, Enum 타입의 변수를 변환할 때 작성하는 코드가 너무 장황함\n    -   런타임에서 예외를 반환함\n    -   문제가 있을 때 디버깅이 불가능함\n-   MapStruct\n    -   Collection, Enum 타입 변환 코드가 간단함\n    -   컴파일할 때 예외를 반환함\n    -   디버깅이 쉬움 : _인터페이스로 매핑할 내용을 정의하면 컴파일 시 getter, setter를 사용한 클래스를 자동생성해주기 때문에_\n-   Collection type 변환 코드 비교\n    -   조회 결과가 findAll인 경우\n        ```java\n        // ModelMapper\n        List\u003cUser\u003e users = userRepository.getUsers();\n        List\u003cUserDto\u003e userList = users.stream()\n                .map(user -\u003e modelMapper.map(user, UserDto.class))\n                .collect(Collectors.toList());\n        ```\n        ```java\n        // MapStruct\n        UserDto toUserDto(User user);\n        List\u003cUserDto\u003e toUserDtoList(List\u003cUser\u003e users);\n        ```\n    -   조회 결과가 findOne인 경우\n        ```java\n        // ModelMapper\n        User user = orderRepository.getOrdersGroupByUser();\n        List\u003cOrderDto\u003e orders = user.getOrders()\n                .map(order -\u003e modelMapper.map(order, OrderDto.class))\n                .collect(Collectors.toList());\n        UserDto userDto = modelMapper.map(user, UserDto.class);\n        userDto.setOrders(orders);\n        ```\n        ```java\n        // MapStruct : findAll에서 작성한 toUserDto로 처리 가능\n        ```\n-   Enum type 변환 코드 비교\n\n    -   Enum\n\n        ```java\n        @Getter\n        public enum Currency{\n            WON(\"￦\"),\n            DOLLAR(\"$\");\n\n            private String symbol;\n\n            Currency(String symbol){\n                this.symbol = symbol;\n            }\n        }\n        ```\n\n    -   ModelMapper\n\n        ```java\n        @Bean\n        public ModelMapper modelMapper(){\n            ModelMapper modelMapper = new ModelMapper();\n\n            Converter\u003cCurrency, String\u003e currencyConverter = ctx -\u003e ctx.getSource().getSymbol();\n            PropertiMap\u003cItem, ItemDto\u003e itemMap = new PropertyMap\u003c\u003e(){\n                protected void configure(){\n                    using(currencyConverter).map(source.getCurrency()).setCurrency(null);\n                }\n            }\n            modelMapper.addMappings(itemMap);\n\n            return modelMapper;\n        }\n        ```\n\n    -   MapStruct\n\n        ```java\n        @Mapping(source = \"item.currency\", target=\"currency\", qualifiedByName = \"currencyToSymbol\")\n        ItemDto toItemDto(Item item);\n\n        @Named(\"currencyToSymbol\")\n        static String currencyToSymbol(Currency currency){\n            return currency.getSymbol();\n        }\n        ```\n\n-   성능 차이 : MapStruct \u003e ModelMapper  \n     출처 : [Java 매핑 프레임워크의 성능](https://recordsoflife.tistory.com/1251)\n\n### 결론\n\n난 이제 MapStruct 없이 JPA를 사용할 수 없는 몸이 되었다.\n우리나라에서는 ModelMapper의 점유율이 더 높다고 하는데 MapStruct 많이 쓰면 좋겠다.\n\n### 참조\n\nNHN Cloud Meetup [Object Mapping 어디까지 해봤니?](https://meetup.nhncloud.com/posts/213)\n","title":"Java Bean Mapping library 적용 - MapStruct","date":"2023-05-26","category":["backend","spring"],"tag":["MapStruct","jpa","java"]},"prev":{"id":"20230221","title":"wsl.exe 실행되지 않음","date":"2023-02-21","category":["OS","window"],"tag":["wsl","ubuntu"]},"next":{"id":"20230925","title":"Bastion Host 사용하여 RDS 접속하기","date":"2023-09-25","category":["Cloud","aws"],"tag":["BastionHost","RDS"]},"nearPost":[{"id":"20241023","title":"로컬에서 minikube로 k8s 맛보기","date":"2024-10-23","category":["infra","kubernetes"],"tag":["devops","k8s","ingress"]},{"id":"20240620","title":"기초 네트워크[유투브 조코딩 - 꼭 알아야 하는 네트워크 지식...(feat.강민철)","date":"2024-06-20","category":["infra","network"],"tag":["network","http"]},{"id":"20230925","title":"Bastion Host 사용하여 RDS 접속하기","date":"2023-09-25","category":["Cloud","aws"],"tag":["BastionHost","RDS"]},{"id":"20230221","title":"wsl.exe 실행되지 않음","date":"2023-02-21","category":["OS","window"],"tag":["wsl","ubuntu"]},{"id":"20230216","title":"Facade Pattern (파사드 패턴)","date":"2023-02-16","category":["SW","design pattern"],"tag":["oop","design pattern"]}]},"__N_SSG":true},"page":"/blog/[postId]","query":{"postId":"20230526"},"buildId":"duOvbHUXu5a5ex6LfSiN2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>